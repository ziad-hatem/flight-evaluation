{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ziadhatem/task/flight-evaluation/src/app/airlines/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'next/navigation';\nimport Link from 'next/link';\n\ninterface Airline {\n  id: string;\n  name: string;\n  logo?: string;\n  description?: string;\n}\n\ninterface Flight {\n  id: string;\n  flightNumber: string;\n  origin: string;\n  destination: string;\n  departureTime: string;\n  arrivalTime: string;\n  airline: Airline;\n  _count?: {\n    ratings: number;\n    reviews: number;\n  };\n}\n\nexport default function AirlineDetailPage() {\n  const params = useParams();\n  const [airline, setAirline] = useState<Airline | null>(null);\n  const [flights, setFlights] = useState<Flight[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (params.id) {\n      fetchAirlineDetails();\n      fetchAirlineFlights();\n    }\n  }, [params.id]);\n\n  const fetchAirlineDetails = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/airlines?id=${params.id}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch airline details');\n      }\n      \n      const data = await response.json();\n      if (data.length > 0) {\n        setAirline(data[0]);\n      } else {\n        setError('Airline not found');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchAirlineFlights = async () => {\n    try {\n      const response = await fetch(`/api/flights?airlineId=${params.id}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch airline flights');\n      }\n      \n      const data = await response.json();\n      setFlights(data);\n    } catch (err) {\n      console.error('Error fetching flights:', err);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleString('en-US', {\n      weekday: 'short',\n      month: 'short',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8 text-center\">\n        <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent\"></div>\n        <p className=\"mt-2\">Loading airline details...</p>\n      </div>\n    );\n  }\n\n  if (error || !airline) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n          {error || 'Airline not found'}\n        </div>\n        <div className=\"mt-4\">\n          <Link href=\"/airlines\" className=\"text-blue-600 hover:underline\">\n            ← Back to airlines\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"mb-6\">\n        <Link href=\"/airlines\" className=\"text-blue-600 hover:underline\">\n          ← Back to airlines\n        </Link>\n      </div>\n\n      {/* Airline Details */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold mb-2\">{airline.name}</h1>\n            {airline.logo && (\n              <img \n                src={airline.logo} \n                alt={airline.name} \n                className=\"h-16 w-auto object-contain mb-4\"\n              />\n            )}\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">About {airline.name}</h2>\n          <p className=\"text-gray-700 dark:text-gray-300\">\n            {airline.description || 'No description available.'}\n          </p>\n        </div>\n      </div>\n\n      {/* Flights List */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\">\n        <h2 className=\"text-2xl font-semibold mb-6\">Flights ({flights.length})</h2>\n        \n        {flights.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <p className=\"text-gray-600 dark:text-gray-400\">No flights found for this airline.</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 gap-6\">\n            {flights.map((flight) => (\n              <div key={flight.id} className=\"border-b pb-6 last:border-b-0 last:pb-0\">\n                <div className=\"flex flex-col md:flex-row justify-between\">\n                  <div className=\"mb-4 md:mb-0\">\n                    <div className=\"flex items-center mb-2\">\n                      <span className=\"font-bold text-lg mr-2\">{flight.flightNumber}</span>\n                    </div>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n                      <div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">Departure</p>\n                        <p className=\"font-semibold\">{formatDate(flight.departureTime)}</p>\n                        <p className=\"text-lg font-bold\">{flight.origin}</p>\n                      </div>\n                      <div className=\"flex items-center justify-center\">\n                        <div className=\"w-full h-0.5 bg-gray-300 dark:bg-gray-600 relative\">\n                          <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-blue-600\"></div>\n                        </div>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">Arrival</p>\n                        <p className=\"font-semibold\">{formatDate(flight.arrivalTime)}</p>\n                        <p className=\"text-lg font-bold\">{flight.destination}</p>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex flex-col justify-between items-end\">\n                    <div className=\"flex items-center mb-2\">\n                      <span className=\"text-sm mr-2\">\n                        {flight._count?.ratings || 0} ratings • {flight._count?.reviews || 0} reviews\n                      </span>\n                    </div>\n                    <Link \n                      href={`/flights/${flight.id}`}\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n                    >\n                      View Details\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":["file:///Users/ziadhatem/task/flight-evaluation/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}