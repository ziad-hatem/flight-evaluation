{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ziadhatem/task/flight-evaluation/src/app/flights/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\ninterface Airline {\n  id: string;\n  name: string;\n  logo?: string;\n}\n\ninterface Flight {\n  id: string;\n  flightNumber: string;\n  origin: string;\n  destination: string;\n  departureTime: string;\n  arrivalTime: string;\n  airline: Airline;\n  _count: {\n    ratings: number;\n    reviews: number;\n  };\n}\n\nexport default function FlightsPage() {\n  const [flights, setFlights] = useState<Flight[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [filters, setFilters] = useState({\n    origin: '',\n    destination: '',\n    airline: '',\n    date: '',\n  });\n  const router = useRouter();\n\n  useEffect(() => {\n    fetchFlights();\n  }, []);\n\n  const fetchFlights = async () => {\n    try {\n      setLoading(true);\n      let url = '/api/flights';\n      \n      // Add filters if they exist\n      const params = new URLSearchParams();\n      if (filters.origin) params.append('origin', filters.origin);\n      if (filters.destination) params.append('destination', filters.destination);\n      if (filters.airline) params.append('airline', filters.airline);\n      if (filters.date) params.append('date', filters.date);\n      \n      if (params.toString()) {\n        url += `?${params.toString()}`;\n      }\n      \n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error('Failed to fetch flights');\n      }\n      \n      const data = await response.json();\n      setFlights(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilterChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    fetchFlights();\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleString('en-US', {\n      weekday: 'short',\n      month: 'short',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-3xl font-bold mb-6\">Browse Flights</h1>\n      \n      {/* Filters */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8\">\n        <h2 className=\"text-xl font-semibold mb-4\">Filter Flights</h2>\n        <form onSubmit={handleSubmit} className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div>\n            <label htmlFor=\"origin\" className=\"block text-sm font-medium mb-1\">Origin</label>\n            <input\n              type=\"text\"\n              id=\"origin\"\n              name=\"origin\"\n              value={filters.origin}\n              onChange={handleFilterChange}\n              className=\"w-full p-2 border rounded-md\"\n              placeholder=\"e.g. New York\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"destination\" className=\"block text-sm font-medium mb-1\">Destination</label>\n            <input\n              type=\"text\"\n              id=\"destination\"\n              name=\"destination\"\n              value={filters.destination}\n              onChange={handleFilterChange}\n              className=\"w-full p-2 border rounded-md\"\n              placeholder=\"e.g. London\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"airline\" className=\"block text-sm font-medium mb-1\">Airline</label>\n            <input\n              type=\"text\"\n              id=\"airline\"\n              name=\"airline\"\n              value={filters.airline}\n              onChange={handleFilterChange}\n              className=\"w-full p-2 border rounded-md\"\n              placeholder=\"e.g. Emirates\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"date\" className=\"block text-sm font-medium mb-1\">Date</label>\n            <input\n              type=\"date\"\n              id=\"date\"\n              name=\"date\"\n              value={filters.date}\n              onChange={handleFilterChange}\n              className=\"w-full p-2 border rounded-md\"\n            />\n          </div>\n          <div className=\"md:col-span-4 flex justify-end\">\n            <button \n              type=\"submit\" \n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              Apply Filters\n            </button>\n          </div>\n        </form>\n      </div>\n      \n      {/* Flights List */}\n      {loading ? (\n        <div className=\"text-center py-8\">\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent\"></div>\n          <p className=\"mt-2\">Loading flights...</p>\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n          {error}\n        </div>\n      ) : flights.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <p className=\"text-lg\">No flights found matching your criteria.</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 gap-6\">\n          {flights.map((flight) => (\n            <div key={flight.id} className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden\">\n              <div className=\"p-6\">\n                <div className=\"flex flex-col md:flex-row justify-between\">\n                  <div className=\"mb-4 md:mb-0\">\n                    <div className=\"flex items-center mb-2\">\n                      <span className=\"font-bold text-lg mr-2\">{flight.airline.name}</span>\n                      <span className=\"text-gray-600 dark:text-gray-400\">{flight.flightNumber}</span>\n                    </div>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n                      <div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">Departure</p>\n                        <p className=\"font-semibold\">{formatDate(flight.departureTime)}</p>\n                        <p className=\"text-lg font-bold\">{flight.origin}</p>\n                      </div>\n                      <div className=\"flex items-center justify-center\">\n                        <div className=\"w-full h-0.5 bg-gray-300 dark:bg-gray-600 relative\">\n                          <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-blue-600\"></div>\n                        </div>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">Arrival</p>\n                        <p className=\"font-semibold\">{formatDate(flight.arrivalTime)}</p>\n                        <p className=\"text-lg font-bold\">{flight.destination}</p>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex flex-col justify-between items-end\">\n                    <div className=\"flex items-center mb-2\">\n                      <span className=\"text-sm mr-2\">\n                        {flight._count.ratings} ratings â€¢ {flight._count.reviews} reviews\n                      </span>\n                    </div>\n                    <Link \n                      href={`/flights/${flight.id}`}\n                      className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n                    >\n                      View Details\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 505, "column": 0}, "map": {"version":3,"sources":["file:///Users/ziadhatem/task/flight-evaluation/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///Users/ziadhatem/task/flight-evaluation/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}