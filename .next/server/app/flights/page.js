(()=>{var e={};e.id=342,e.ids=[342],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,t,r)=>{"use strict";var s=r(65773);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28012:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ziadhatem/task/flight-evaluation/src/app/flights/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ziadhatem/task/flight-evaluation/src/app/flights/page.tsx","default")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44615:(e,t,r)=>{Promise.resolve().then(r.bind(r,28012))},55814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),l=r(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o={children:["",{children:["flights",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,28012)),"/Users/ziadhatem/task/flight-evaluation/src/app/flights/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/ziadhatem/task/flight-evaluation/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/ziadhatem/task/flight-evaluation/src/app/flights/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/flights/page",pathname:"/flights",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74879:(e,t,r)=>{Promise.resolve().then(r.bind(r,88742))},79551:e=>{"use strict";e.exports=require("url")},88742:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(60687),a=r(43210),i=r(85814),n=r.n(i),l=r(16189);function d(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null),[c,m]=(0,a.useState)({origin:"",destination:"",airline:"",date:""});(0,l.useRouter)();let u=async()=>{try{i(!0);let e="/api/flights",r=new URLSearchParams;c.origin&&r.append("origin",c.origin),c.destination&&r.append("destination",c.destination),c.airline&&r.append("airline",c.airline),c.date&&r.append("date",c.date),r.toString()&&(e+=`?${r.toString()}`);let s=await fetch(e);if(!s.ok)throw Error("Failed to fetch flights");let a=await s.json();t(a)}catch(e){o(e instanceof Error?e.message:"An error occurred")}finally{i(!1)}},h=e=>{let{name:t,value:r}=e.target;m(e=>({...e,[t]:r}))},p=e=>new Date(e).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Browse Flights"}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Filter Flights"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u()},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"origin",className:"block text-sm font-medium mb-1",children:"Origin"}),(0,s.jsx)("input",{type:"text",id:"origin",name:"origin",value:c.origin,onChange:h,className:"w-full p-2 border rounded-md",placeholder:"e.g. New York"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"destination",className:"block text-sm font-medium mb-1",children:"Destination"}),(0,s.jsx)("input",{type:"text",id:"destination",name:"destination",value:c.destination,onChange:h,className:"w-full p-2 border rounded-md",placeholder:"e.g. London"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"airline",className:"block text-sm font-medium mb-1",children:"Airline"}),(0,s.jsx)("input",{type:"text",id:"airline",name:"airline",value:c.airline,onChange:h,className:"w-full p-2 border rounded-md",placeholder:"e.g. Emirates"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium mb-1",children:"Date"}),(0,s.jsx)("input",{type:"date",id:"date",name:"date",value:c.date,onChange:h,className:"w-full p-2 border rounded-md"})]}),(0,s.jsx)("div",{className:"md:col-span-4 flex justify-end",children:(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filters"})})]})]}),r?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),(0,s.jsx)("p",{className:"mt-2",children:"Loading flights..."})]}):d?(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d}):0===e.length?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-lg",children:"No flights found matching your criteria."})}):(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6",children:e.map(e=>(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between",children:[(0,s.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)("span",{className:"font-bold text-lg mr-2",children:e.airline.name}),(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.flightNumber})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Departure"}),(0,s.jsx)("p",{className:"font-semibold",children:p(e.departureTime)}),(0,s.jsx)("p",{className:"text-lg font-bold",children:e.origin})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-full h-0.5 bg-gray-300 dark:bg-gray-600 relative",children:(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-blue-600"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Arrival"}),(0,s.jsx)("p",{className:"font-semibold",children:p(e.arrivalTime)}),(0,s.jsx)("p",{className:"text-lg font-bold",children:e.destination})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-between items-end",children:[(0,s.jsx)("div",{className:"flex items-center mb-2",children:(0,s.jsxs)("span",{className:"text-sm mr-2",children:[e._count.ratings," ratings â€¢ ",e._count.reviews," reviews"]})}),(0,s.jsx)(n(),{href:`/flights/${e.id}`,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Details"})]})]})})},e.id))})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[243,427,658,383],()=>r(55814));module.exports=s})();