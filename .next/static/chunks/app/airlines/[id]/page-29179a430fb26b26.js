(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{3580:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var r=a(5155),t=a(2115),l=a(5695),i=a(6874),n=a.n(i);function d(){let e=(0,l.useParams)(),[s,a]=(0,t.useState)(null),[i,d]=(0,t.useState)([]),[c,o]=(0,t.useState)(!0),[m,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{e.id&&(x(),u())},[e.id]);let x=async()=>{try{o(!0);let s=await fetch("/api/airlines?id=".concat(e.id));if(!s.ok)throw Error("Failed to fetch airline details");let r=await s.json();r.length>0?a(r[0]):h("Airline not found")}catch(e){h(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}},u=async()=>{try{let s=await fetch("/api/flights?airlineId=".concat(e.id));if(!s.ok)throw Error("Failed to fetch airline flights");let a=await s.json();d(a)}catch(e){console.error("Error fetching flights:",e)}},b=e=>new Date(e).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return c?(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,r.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),(0,r.jsx)("p",{className:"mt-2",children:"Loading airline details..."})]}):m||!s?(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:m||"Airline not found"}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(n(),{href:"/airlines",className:"text-blue-600 hover:underline",children:"← Back to airlines"})})]}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(n(),{href:"/airlines",className:"text-blue-600 hover:underline",children:"← Back to airlines"})}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[(0,r.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:s.name}),s.logo&&(0,r.jsx)("img",{src:s.logo,alt:s.name,className:"h-16 w-auto object-contain mb-4"})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["About ",s.name]}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:s.description||"No description available."})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold mb-6",children:["Flights (",i.length,")"]}),0===i.length?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No flights found for this airline."})}):(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6",children:i.map(e=>{var s,a;return(0,r.jsx)("div",{className:"border-b pb-6 last:border-b-0 last:pb-0",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between",children:[(0,r.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,r.jsx)("div",{className:"flex items-center mb-2",children:(0,r.jsx)("span",{className:"font-bold text-lg mr-2",children:e.flightNumber})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Departure"}),(0,r.jsx)("p",{className:"font-semibold",children:b(e.departureTime)}),(0,r.jsx)("p",{className:"text-lg font-bold",children:e.origin})]}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-full h-0.5 bg-gray-300 dark:bg-gray-600 relative",children:(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-blue-600"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Arrival"}),(0,r.jsx)("p",{className:"font-semibold",children:b(e.arrivalTime)}),(0,r.jsx)("p",{className:"text-lg font-bold",children:e.destination})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-between items-end",children:[(0,r.jsx)("div",{className:"flex items-center mb-2",children:(0,r.jsxs)("span",{className:"text-sm mr-2",children:[(null===(s=e._count)||void 0===s?void 0:s.ratings)||0," ratings • ",(null===(a=e._count)||void 0===a?void 0:a.reviews)||0," reviews"]})}),(0,r.jsx)(n(),{href:"/flights/".concat(e.id),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Details"})]})]})},e.id)})})]})]})}},5695:(e,s,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(s,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})},6753:(e,s,a)=>{Promise.resolve().then(a.bind(a,3580))}},e=>{var s=s=>e(e.s=s);e.O(0,[874,441,684,358],()=>s(6753)),_N_E=e.O()}]);